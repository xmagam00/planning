<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<h:head>

	<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
	<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
	<meta name="description" content="Optaplanner service"></meta>
	<meta name="author" content="Martin Maga"></meta>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
	<link rel="icon" type="image/x-icon"
		href="#{request.contextPath}/resources/img/favicon.ico" />

	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="bootstrap-responsive.min.css" />
	<link
		href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"
		rel="stylesheet" />
<style>
	#content {
 float: none;
     margin-left: auto;
     margin-right: auto;
}
</style>
</h:head>
<h:body>
	<f:view>

		<div class="container">
			<ui:insert  >
		  <ui:include src="template.xhtml" />
		</ui:insert>
<br></br>
<br></br>
<br></br>

		 <div class="row" >
          <div class="col-lg-6" >
            <div class="well bs-component" >
              <h:form>
                <fieldset>
                  <legend>Find Organization</legend>
                  <div class="form-group">
                    <label for="inputEmail" class="col-lg-2 control-label">Name</label>
                    <div class="col-lg-10">
                      
											<div class="input-group">
										<span class="input-group-addon"><i class="fa fa-search"></i></span>
										<h:inputText type="text" class="form-control" required="true"
											requiredMessage="Select string to find" id="taskOption"
											value="#{AdministratorBean.nieco}" style="width: 60%;"/>
									</div>
									<h:message for="taskOption" style="color:red;" />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputPassword" class="col-lg-2 control-label">Type</label>
                    <div class="col-lg-10">
                    <br></br>
                      	<rich:select defaultLabel="Select option" required="true"
									requiredMessage="Enter option"
									value="#{AdministratorBean.findOption}" id="Nieco222">
									<f:selectItem itemValue="Username" itemLabel="Username" />
									<f:selectItem itemValue="Organization" itemLabel="Organization" />
									<f:selectItem itemValue="Email" itemLabel="Email" />
									<f:selectItem itemValue="Role" itemLabel="Role" />
								</rich:select>
								<br></br>
								<h:message for="Nieco222" style="color:red;" />
										
                     
                    </div>
                    <h:message for="findId" style="color:red;" />
                  </div>
                  
               
                  <div class="form-group">
                    <div class="col-lg-10 col-lg-offset-2">
                       <br></br>
                     <h:commandButton class="btn btn-default btn-lg" value="Find"
									action="#{AdministratorBean.findListOrganization()}"/>
											<h:commandButton class="btn btn-default btn-lg" style="margin-left:10px;"
												value="Cancel"
												aaction="#{AdministratorBean.showAllOrganizations()}" />
                    </div>
                    <h:outputText value="#{AdministratorBean.result}"
											rendered="#{AdministratorBean.renderResult}" />
                  </div>
                </fieldset>
                </h:form>
            </div>
          </div>
          </div>
        
</div>
		<h:form>
						<a4j:region>
							<h:form>
								<a4j:poll id="poll" interval="2000" render="poll,tabOrg"
									enabled="#{AdministratorBean.orgPoll}"
									action="#{AdministratorBean.updateOrganization()}" />
							</h:form>
						</a4j:region>
					</h:form>

					<h:form>
						<div class="container">
							<div class="table-reponsive">
								<h:dataTable value="#{AdministratorBean.organizations}"
									var="org" class="table table-hover"
									rows="#{AdministratorBean.renderRow3}" id="tabOrg" row="5">

								


									<h:column>

										<f:facet name="header">
											<h:commandLink
												action="#{AdministratorBean.sortByNameOrganization}">
												<h:outputText value="Name of Organization"></h:outputText>
											</h:commandLink>
										</f:facet>
										<h:inputText type="text" class="form-control"
											value="#{org.nameOfOrganization}" rendered="#{org.editable}"
											id="ahoj" />
										<h:outputText value="Organization cannot be empty"
											style="color:red;" rendered="#{org.renderError}" />



										<h:outputText value="#{org.nameOfOrganization}"
											rendered="#{not org.editable}" />

									</h:column>




									<h:column>

										<f:facet name="header">Action</f:facet>

										<h:panelGrid columns="3">
											<h:commandLink class="btn btn-default" style="color:black;"
												rendered="#{org.renderSave}" data-toggle="tooltip" data-placement="left" title="Save Changes"
												action="#{AdministratorBean.saveActionOrganization}" >
												<i class="fa fa-save fa-lg"></i>
												</h:commandLink>
											<h:commandLink class="btn btn-default" style="color:black;"
											data-toggle="tooltip" data-placement="left" title="Edit Organization"
												
												action="#{AdministratorBean.editActionOrganization(org)}"
												rendered="#{not org.editable}" >
													<i class="fa fa-edit fa-lg"></i>
												</h:commandLink>
											<a4j:commandLink styleClass="btn btn-default" style="color:black;"
												 data-toggle="tooltip" data-placement="left" title="Delete Organization"
												action="#{AdministratorBean.deleteOrganization(org)}"
												oncomplete="$('#myModal3333').modal('show')" >
												<i class="fa fa-eraser fa-lg"></i>
												</a4j:commandLink>

										</h:panelGrid>

									</h:column>

								</h:dataTable>
							</div>
							</div>
						<!-- Modal -->
						<div class="modal fade" id="myModal3333" tabindex="-1"
							role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										
										<h4 class="modal-title" id="myModalLabel">Information</h4>
									</div>
									<div class="modal-body">
										Are you sure that you want to delete this Organization ?
							 <div class="form-group">
                    <div class="col-lg-10 col-lg-offset-4">
                       <br></br>
                     <h:commandLink style="color:black;" data-toggle="tooltip" data-placement="left" title="Yes"
														class="btn btn-default"
														oncomplete="$('#myModal3333').modal('hide')"
														action="#{AdministratorBean.deleteOrgSpec()}" >
														<i class="fa fa-check-square-o fa-lg"></i>
														</h:commandLink>
											<a4j:commandLink style="color:black;margin-left:10px;" styleClass="btn btn-default"  data-toggle="tooltip" data-placement="left" title="No"
														 oncomplete="$('#myModal3333').modal('hide')" >
														 
														 <i class="fa fa-times fa-lg"></i>
														 </a4j:commandLink>
                    </div>
                    <h:outputText value="#{AdministratorBean.result}"
											rendered="#{AdministratorBean.renderResult}" />
                  </div>			
							
												
										
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-default"
											data-dismiss="modal">Close</button>

									</div>
								</div>
							</div>
						</div>
				<div class="col-md-1 col-md-offset-5">
							<div class="table-responsive"  >
								<table class="table" >
									<tr >
										<td><rich:dataScroller for="tabOrg"
												page="#{AdministratorBean.page3}" id="scroller3"
												maxPages="5" reRender="tabOrg,scroller3"
												boundaryControls="show" fastControls="hide"
												stepControls="show" onbegin="#{AdministratorBean.scroller3}" /></td>
									</tr>



								

								</table>
							</div>
							</div>
					
					
					</h:form>
		




		<h:outputScript library="js" name="jquery-2.1.0.js" />
		<h:outputScript library="js" name="bootstrap.js" />
	</f:view>



</h:body>
</html>
